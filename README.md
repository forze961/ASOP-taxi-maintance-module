<h1 align="center">–í–∞—Å –≤—ñ—Ç–∞—î E-TICKET üëã</h1>
<h2 align="center">DC8 E-Ticket ‚Äî statistic module</h2>
<p>
  <img alt="–í–µ—Ä—Å—ñ—è" src="https://img.shields.io/badge/version-0.25-blue.svg?cacheSeconds=2592000" />
  <a href="-" target="_blank">
    <img alt="License: ttc Licenc #" src="https://img.shields.io/badge/License-ttc Licenc #-yellow.svg" />
  </a>
</p>

##–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è: 

**–ü—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è ¬´–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä—É—Ö–æ–º–æ–≥–æ —Å–∫–ª–∞–¥—É¬ª –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è:**
>- –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∑–≤‚Äô—è–∑–∫—É –∑ –æ–±‚Äô—î–∫—Ç–æ–º –ø–æ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ–π–Ω—ñ–π –º–µ—Ä–µ–∂—ñ –ê–°–û–ü.
>- –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é —Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–∞—Å–æ–±—ñ–≤ –ê–°–û–ü, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ –ª—ñ–Ω—ñ—ó.
>- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç–Ω–∏—Ö —Ä–µ–π—Å—ñ–≤ —Ä—É—Ö–æ–º–∏–º–∏ –æ–¥–∏–Ω–∏—Ü—è–º–∏ (–†–û).
>- –í–∏–∑–Ω–∞—á–µ–Ω–Ω—é –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –≤–∞–ª—ñ–¥–∞—Ü—ñ–π.
>- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –¥—ñ–π –≤–æ–¥—ñ—è.

##–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–¥—É–ª—é: statistic module: 

>–î–∞–Ω–∏–π –º–æ–¥—É–ª—å –∑–∞–±–µ–∑–ø–µ—á—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è, –∞–Ω–∞–ª—ñ–∑ —Ç–∞ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö –¥–ª—è –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

### üè† [ –î–æ–º–∞—à–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞ ](http://#/)

## –°—Ç–µ–∫
- [React](https://reactjs.org)
- [Nextjs](https://nextjs.org/)
- [Material-ui](http://material-ui.com)
- [Styled components](https://www.styled-components.com)
- [WebPack](https://webpack.js.org/)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç—É

- **pages** - –∫—ñ–Ω—Ü–µ–≤—ñ –º–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫
  - **api** - –∫—ñ–Ω—Ü–µ–≤—ñ –º–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
- **components** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø–∞–∫–µ—Ç—É
- **containers** - –≥–ª–æ–±–∞–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- **lib** - –¥–æ–ø–æ–º—ñ–∂–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
- **public** - —Å—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —Å—Ç–∏–ª—ñ)
- **static** - —Å—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ (–∑–≤—É–∫–∏)
- **util** - –£—Ç–∏–ª—ñ—Ç–∏ —Ç–∞ –¥–æ–ø–æ–º—ñ–∂–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
- **scripts** - –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

> 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ–≥–æ –ü–ó.

- [NodeJS(13.14.0 –∞–±–æ –≤–∏—â–µ) + YARN](https://nodejs.org/uk/download/) [–û–±–æ–≤'—è–∑–∫–æ–≤–æ]
- [PostgeSQL (13.2 –∞–±–æ –≤–∏—â–µ)](https://www.postgresql.org/download/) [–û–±–æ–≤'—è–∑–∫–æ–≤–æ]
- [NGINX (1.10.3 –∞–±–æ –≤–∏—â–µ)](http://nginx.org/ru/download.html) [–û–±–æ–≤'—è–∑–∫–æ–≤–æ]
- [Crontab](https://crontab.guru/) [–û–±–æ–≤'—è–∑–∫–æ–≤–æ]

> 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–¥—É–ª—å–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.

```sh
cd <distribution kit home catalog/asop_statistic_packet/>
yarn install
```

## –ó–∞–ø—É—Å–∫ —Å–∏–Ω—Ç–µ—Ç–∏—á–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤ (–ø—Ä–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ)

```sh
yarn test
```

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —ñ –∑–∞–ø—É—Å–∫

> –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è  –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–∏ **../distribution kit home catalog/asop_statistic_packet/.env.local**

```
    postgresHost=<–∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–µ PostgreSQL>
    postgresPort=5432<–ø–æ—Ä—Ç>
    postgresDatabase=<–ù–∞–∑–≤–∞ –ë–î>
    postgresUser=<–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á>
    postgresPassword=<–ü–∞—Ä–æ–ª—å>
    APPLICATION_SECRET=<—Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è —Ç–æ–∫–µ–Ω—ñ–∑–∞—Ü—ñ—ó —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é (32 —Å–∏–º–≤–æ–ª–∏)>
    BACKEND_SERVICE=<URL-–∞–¥—Ä–µ—Å–∞ –ø–∞–∫–µ—Ç—É –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∏—Ö –¥–∞–Ω–∏—Ö>
	ZABBIX_REDIRECT=<–ê–¥—Ä–µ—Å–∞ –¥–ª—è –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü—ñ—ó –∫–ª—ñ—î–Ω—Ç–∞ –¥–æ —Å–∏—Å—Ç–µ–º–∏ Zabbix>
	USER_INFO_SERVICE=<–°–µ—Ä–≤—ñ—Å –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ—Ç–∞-–¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞>
	SESSION_TTL=<–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ–π–Ω–æ—ó —Å–µ—Å—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö>
```

> –î–∞–Ω–∏–π –ø–∞–∫–µ—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—é SSR, —Ç–æ–º—É –¥–ª—è –∑–∞–ø—É—Å–∫—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ "–∑—ñ–±—Ä–∞—Ç–∏" –ø—Ä–æ–µ–∫—Ç:
>
> - –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç—É;
> - –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç;
```sh
cd <distribution kit home catalog/asop_statistic_packet>
yarn build
...
yarn start
```

> –ó–∞–ø—É—Å–∫ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞:
>
```sh
cd <distribution kit home catalog/asop_statistic_packet>
yarn dev
```

> –ü–ª–∞–Ω–æ–≤–∏–π –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –¥–ª—è –∑–±–æ—Ä—É —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
>
> - –î–∞–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∑–∞–±–µ–∑–ø–µ—á—É—î –∑–±—ñ—Ä —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö (–∞—Ä—Ö—ñ–≤—É)  –∑ –¥–∏—Å–∫—Ä–µ—Ç–Ω—ñ—Å—Ç—é 10 —Ö–≤–∏–ª–∏–Ω (–¥–∏—Å–∫—Ä–µ—Ç–Ω—ñ—Å—Ç—å –º–æ–∂–ª–∏–≤–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏) –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü–∏–º –ø–∞–∫–µ—Ç–æ–º.
```sh
sudo crontab -e;
*/10 * * * * <—à–ª—è—Ö –¥–ª—è –≤–∏–∫–æ–Ω—É—é–≤–∞—á–æ–≥–æ —Ñ–∞–π–ª—É nodeJS> distribution kit home catalog/asop_statistic_packet/util/getDataASOP.js
*save*
```
>–ü—Ä–∏–∫–ª–∞–¥: (Unix)
```sh
sudo crontab -e;
*/10 * * * * /usr/bin/node /var/nodejshome/asop_statistic_packet/util/getDataASOP.js
*save*
```

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

–¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤ —Å–∏—Å—Ç–µ–º—ñ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è : **../distribution kit home catalog/asop_operation_packet/AuthData.txt**.
–£–≤–∞–≥–∞! –î–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–æ—ó –±–µ–∑–ø–µ–∫–∏ —É –ø—Ä–æ–º–∏—Å–ª–æ–≤–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –ü–ó ‚Äî –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –¥–∞–Ω—ñ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.

### üìö [ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è ](#)

## –ê–≤—Ç–æ—Ä–∏

üë§ **–¢–û–í ¬´–ï–ü–ê–†–ö–ì–†–ê–î¬ª¬©**

- –í–µ–±-—Å–∞–π—Ç: 
- –û—Ñ—ñ—Å:
- –í—ñ–¥–¥—ñ–ª –ø—Ä–æ–¥–∞–∂—ñ–≤: 
- –ë—É–≥–∞–ª—Ç–µ—Ä—ñ—è: 
- –¢–µ—Ö–ø—ñ–¥—Ç—Ä–∏–º–∫–∞: 
- –§–∞–∫—Å: 

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–î–∞–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç –º–∞—î –ª—ñ—Ü–µ–Ω–∑—ñ—é [] –≤—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.

---
